<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Vista Form de Account Payment Method - Comentada porque no existe vista base en Odoo 18 -->
    <!--
    <record id="view_account_payment_method_form_treasury" model="ir.ui.view">
        <field name="name">account.payment.method.form.treasury</field>
        <field name="model">account.payment.method</field>
        <field name="inherit_id" ref="account.view_account_payment_method_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='main']" position="after">
                <group string="Configuración Tesorería">
                    <group>
                        <field name="treasury_code" placeholder="EJ: EFE, CHQ, TRANSF"/>
                        <field name="use_treasury_numbering" widget="boolean_toggle"/>
                    </group>
                    <group>
                        <field name="treasury_sequence_id"
                               invisible="not use_treasury_numbering"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
    -->

    <!-- Vista específica para configurar códigos de tesorería -->
    <record id="action_treasury_payment_codes" model="ir.actions.act_window">
        <field name="name">Configurar Códigos de Tesorería</field>
        <field name="res_model">account.payment.method</field>
        <field name="view_mode">list</field>
        <field name="context">{'default_use_treasury_numbering': True}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Configure los códigos de tesorería para métodos de pago
            </p>
            <p>
                Defina códigos cortos como EFE, CHQ, TRANSF para identificar
                rápidamente los métodos de pago en los documentos de tesorería.
            </p>
        </field>
    </record>

    <!-- Menú para configurar códigos -->
    <menuitem id="menu_treasury_payment_codes"
              name="Códigos de Métodos de Pago"
              parent="custom_account_treasury.menu_treasury_configuration"
              action="action_treasury_payment_codes"
              sequence="15"/>
</odoo>