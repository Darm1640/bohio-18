<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="bohio_homepage_new" name="BOHIO Homepage">
            <t t-call="website.layout">
                <div id="wrap" class="bohio-homepage">

                    <!-- Portal Menu -->
                    <section class="portal-menu py-2" style="background: rgba(227, 30, 36, 0.95);">
                        <div class="container">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="d-flex gap-4">
                                    <a href="/mybohio/owner" class="text-white text-decoration-none small fw-semibold" style="transition: opacity 0.3s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">
                                        <i class="fa fa-user-circle me-1"></i>Portal Propietarios
                                    </a>
                                    <a href="/mybohio" class="text-white text-decoration-none small fw-semibold" style="transition: opacity 0.3s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">
                                        <i class="fa fa-home me-1"></i>Portal Arrendatarios
                                    </a>
                                    <a href="/web/login" class="text-white text-decoration-none small fw-semibold" style="transition: opacity 0.3s;" onmouseover="this.style.opacity='0.7'" onmouseout="this.style.opacity='1'">
                                        <i class="fa fa-sign-in-alt me-1"></i>Iniciar Sesión
                                    </a>
                                </div>

                            </div>
                        </div>
                    </section>

                    <!-- Hero Section con Banner y Búsqueda -->
                    <section class="bohio-hero-section position-relative">
                        <div class="container-fluid p-0">
                            <div class="hero-banner position-relative">
                                <!-- Carrusel de imágenes (siempre visible) -->
                                <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <img src="/theme_bohio_real_estate/static/src/img/banner1.jpg" alt="Encuentra tu hogar ideal" class="img-fluid w-100" style="max-height: 600px; object-fit: cover;"/>
                                        </div>
                                        <div class="carousel-item">
                                            <img src="/theme_bohio_real_estate/static/src/img/banner2.jpg" alt="Propiedades en venta" class="img-fluid w-100" style="max-height: 600px; object-fit: cover;"/>
                                        </div>
                                        <div class="carousel-item">
                                            <img src="/theme_bohio_real_estate/static/src/img/banner_inicio.jpg" alt="Tu mejor inversión" class="img-fluid w-100" style="max-height: 600px; object-fit: cover;"/>
                                        </div>
                                    </div>
                                    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    </button>
                                </div>

                                <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.5));">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-10 mx-auto text-center text-white">
                                                                <h1 class="display-3 fw-bold mb-4" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.7); font-size: 3.5rem;">
                                                    Encuentra tu hogar ideal
                                                </h1>

                                                <!-- Búsqueda Horizontal Estilo Rialto -->
                                                <div class="rialto-search-bar p-4 rounded-4 shadow-lg" style="background: rgba(50, 50, 50, 0.85); backdrop-filter: blur(15px); max-width: 1100px; margin: 0 auto;">
                                                    <!-- Botones Arrendar/Comprar -->
                                                    <div class="d-flex justify-content-center gap-3 mb-4">
                                                        <button type="button" class="btn btn-lg service-type-btn active" data-service="rent" style="min-width: 180px; background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 50px; font-weight: 600; padding: 12px 30px;">
                                                            Arrendar
                                                        </button>
                                                        <button type="button" class="btn btn-lg service-type-btn" data-service="sale" style="min-width: 180px; background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 50px; font-weight: 600; padding: 12px 30px;">
                                                            Comprar
                                                        </button>
                                                    </div>

                                                    <!-- Formulario de Búsqueda -->
                                                    <form action="/properties" method="get" id="searchForm">
                                                        <input type="hidden" name="type_service" id="selectedServiceType" value="rent"/>

                                                        <div class="row g-3">
                                                            <!-- Dónde quieres vivir -->
                                                            <div class="col-lg-4 col-md-6">
                                                                <select name="search" class="form-select form-select-lg" style="background: rgba(255,255,255,0.95); border: none; border-radius: 10px; height: 55px; font-size: 15px;">
                                                                    <option value="">¿Dónde quieres vivir?</option>
                                                                    <option value="Bogotá">Bogotá</option>
                                                                    <option value="Medellín">Medellín</option>
                                                                    <option value="Cali">Cali</option>
                                                                    <option value="Barranquilla">Barranquilla</option>
                                                                    <option value="Cartagena">Cartagena</option>
                                                                </select>
                                                            </div>

                                                            <!-- Tipo de inmueble -->
                                                            <div class="col-lg-4 col-md-6">
                                                                <select name="property_type" class="form-select form-select-lg" style="background: rgba(255,255,255,0.95); border: none; border-radius: 10px; height: 55px; font-size: 15px;">
                                                                    <option value="">Tipo de inmueble</option>
                                                                    <option value="apartment">Apartamento</option>
                                                                    <option value="house">Casa</option>
                                                                    <option value="office">Oficina</option>
                                                                    <option value="commercial">Local Comercial</option>
                                                                    <option value="lot">Lote</option>
                                                                    <option value="warehouse">Bodega</option>
                                                                    <option value="farm">Finca</option>
                                                                    <option value="penthouse">Penthouse</option>
                                                                </select>
                                                            </div>

                                                            <!-- Botón Buscar -->
                                                            <div class="col-lg-4 col-md-12">
                                                                <button type="submit" class="btn btn-lg w-100" style="background: #E31E24; color: white; border: none; border-radius: 10px; height: 55px; font-weight: 700; font-size: 16px;">
                                                                    Buscar
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </form>

                                                    <!-- Búsqueda por código (más pequeña, abajo) -->
                                                    <div class="mt-3 text-center">
                                                        <span style="color: rgba(255,255,255,0.8); font-size: 14px;">¿Tienes un código? Realiza la búsqueda</span>
                                                        <div class="d-inline-flex gap-2 ms-3">
                                                            <input type="text"
                                                                   id="quickCodeSearch"
                                                                   class="form-control form-control-sm"
                                                                   placeholder="Código"
                                                                   style="width: 150px; background: rgba(255,255,255,0.95); border: none; border-radius: 8px; height: 36px;"/>
                                                            <button type="button"
                                                                    onclick="quickSearchCode()"
                                                                    class="btn btn-sm"
                                                                    style="background: #E31E24; color: white; border: none; border-radius: 8px; padding: 0 20px;">
                                                                <i class="fa fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <style>
                                                    .service-type-btn {
                                                        transition: all 0.3s ease;
                                                    }
                                                    .service-type-btn:hover {
                                                        background: rgba(255,255,255,0.3) !important;
                                                        transform: translateY(-2px);
                                                    }
                                                    .service-type-btn.active {
                                                        background: #E31E24 !important;
                                                        box-shadow: 0 4px 15px rgba(227,30,36,0.4);
                                                    }
                                                </style>

                                                <script>
                                                //<![CDATA[
                                                    // Manejar botones Arrendar/Comprar
                                                    document.addEventListener('DOMContentLoaded', function() {
                                                        const serviceBtns = document.querySelectorAll('.service-type-btn');
                                                        const serviceInput = document.getElementById('selectedServiceType');

                                                        serviceBtns.forEach(btn => {
                                                            btn.addEventListener('click', function() {
                                                                serviceBtns.forEach(b => b.classList.remove('active'));
                                                                this.classList.add('active');
                                                                serviceInput.value = this.dataset.service;
                                                            });
                                                        });
                                                    });

                                                    // Búsqueda rápida por código
                                                    function quickSearchCode() {
                                                        const code = document.getElementById('quickCodeSearch').value.trim();
                                                        if (code) {
                                                            window.location.href = '/properties?search=' + encodeURIComponent(code);
                                                        }
                                                    }

                                                    // Enter en campo de código
                                                    document.addEventListener('DOMContentLoaded', function() {
                                                        const codeInput = document.getElementById('quickCodeSearch');
                                                        if (codeInput) {
                                                            codeInput.addEventListener('keypress', function(e) {
                                                                if (e.key === 'Enter') {
                                                                    e.preventDefault();
                                                                    quickSearchCode();
                                                                }
                                                            });
                                                        }
                                                    });
                                                //]]>
                                                </script>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Nuestros Servicios -->
                    <section class="bohio-services py-5">
                        <div class="container">
                            <div class="mb-4">
                                <h2 class="d-inline-block bg-danger text-white px-4 py-3 mb-0 rounded-end-pill" style="font-size: 1.75rem; font-weight: 500;">
                                    Nuestros servicios
                                </h2>
                            </div>

                            <div class="row g-4">


                                <div class="col-md-2 col-6">
                                    <div class="service-card text-center p-3 h-100 bg-white rounded-3 shadow-sm">
                                        <div class="service-icon mb-2">
                                            <img src="/theme_bohio_real_estate/static/src/img/icono-proyectos.png"
                                                 alt="Proyectos"
                                                 style="width: 60px; height: 60px; object-fit: contain;"
                                                 loading="lazy"/>
                                        </div>
                                        <h6 class="mb-0">Proyectos</h6>
                                    </div>
                                </div>

                                <div class="col-md-2 col-6">
                                    <div class="service-card text-center p-3 h-100 bg-white rounded-3 shadow-sm">
                                        <div class="service-icon mb-2">
                                            <img src="/theme_bohio_real_estate/static/src/img/icono-negocios-corporativos.png"
                                                 alt="Negocios Corporativos"
                                                 style="width: 60px; height: 60px; object-fit: contain;"
                                                 loading="lazy"/>
                                        </div>
                                        <h6 class="mb-0">Negocios corporativos</h6>
                                    </div>
                                </div>

                                <div class="col-md-2 col-6">
                                    <div class="service-card text-center p-3 h-100 bg-white rounded-3 shadow-sm">
                                        <div class="service-icon mb-2">
                                            <img src="/theme_bohio_real_estate/static/src/img/icono-firma.png"
                                                 alt="Firma Digital"
                                                 style="width: 60px; height: 60px; object-fit: contain;"
                                                 loading="lazy"/>
                                        </div>
                                        <h6 class="mb-0">Firma digital</h6>
                                    </div>
                                </div>

                                <div class="col-md-2 col-6">
                                    <div class="service-card text-center p-3 h-100 bg-white rounded-3 shadow-sm">
                                        <div class="service-icon mb-2">
                                            <img src="/theme_bohio_real_estate/static/src/img/icono-marketing.png"
                                                 alt="Marketing Digital"
                                                 style="width: 60px; height: 60px; object-fit: contain;"
                                                 loading="lazy"/>
                                        </div>
                                        <h6 class="mb-0">Marketing digital</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Sección: Arriendo con Vista Mapa/Grid -->
                    <section class="bohio-arriendo py-5 bg-light">
                        <div class="container">
                            <div class="mb-4">
                                <h2 class="d-inline-block bg-danger text-white px-4 py-3 mb-0 rounded-end-pill" style="font-size: 1.75rem; font-weight: 500;">
                                    Arriendo
                                </h2>
                            </div>
                            <h2 class="mb-4">
                            Te <span class="fw-bold">ayudamos</span> a encontrar el <span class="text-danger fw-bold">lugar ideal</span> para vivir
                            </h2>

                            <ul class="nav nav-tabs mb-4" id="arriendoTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="arriendo-grid-tab" data-bs-toggle="tab" data-bs-target="#arriendo-grid" type="button" role="tab">
                                        <i class="fa fa-th-large me-1"/>
 Vista Grid
                                    </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="arriendo-map-tab" data-bs-toggle="tab" data-bs-target="#arriendo-map" type="button" role="tab">
                                        <i class="fa fa-map-marker me-1"/>
 Vista Mapa
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content" id="arriendoTabContent">
                                <div class="tab-pane fade show active" id="arriendo-grid" role="tabpanel">
                                    <div class="row g-4" id="arriendo-properties-grid"></div>
                                </div>
                                <div class="tab-pane fade" id="arriendo-map" role="tabpanel">
                                    <div id="arriendo-properties-map" style="height: 500px; width: 100%;"></div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <a href="/properties?type_service=rent" class="btn btn-danger px-4">Explora la categoría</a>
                            </div>
                        </div>
                    </section>

                    <!-- Sección: Venta de inmuebles usados -->
                    <section class="bohio-used-sale py-5">
                        <div class="container">
                            <div class="mb-4">
                                <h2 class="d-inline-block bg-danger text-white px-4 py-3 mb-0 rounded-end-pill" style="font-size: 1.75rem; font-weight: 500;">
                                    Venta de inmuebles usados
                                </h2>
                            </div>
                            <h2 class="mb-4">
                            Te ayudamos a encontrar el <span class="text-danger fw-bold">hogar</span> que estás buscando
                            </h2>

                            <ul class="nav nav-tabs mb-4">
                                <li class="nav-item">
                                    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#used-sale-grid">
                                        <i class="fa fa-th-large me-1"/>
 Vista Grid
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#used-sale-map">
                                        <i class="fa fa-map-marker me-1"/>
 Vista Mapa
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="used-sale-grid">
                                    <div class="row g-4" id="used-sale-properties-grid"></div>
                                </div>
                                <div class="tab-pane fade" id="used-sale-map">
                                    <div id="used-sale-properties-map" style="height: 500px; width: 100%;"></div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <a href="/properties?type_service=sale" class="btn btn-danger px-4">Explora la categoría</a>
                            </div>
                        </div>
                    </section>

                    <!-- Sección: Proyectos en venta -->
                    <section class="bohio-projects py-5 bg-light">
                        <div class="container">
                            <div class="mb-4">
                                <h2 class="d-inline-block bg-danger text-white px-4 py-3 mb-0 rounded-end-pill" style="font-size: 1.75rem; font-weight: 500;">
                                    Proyectos en venta
                                </h2>
                            </div>
                            <h2 class="mb-4">
                                <span class="text-danger fw-bold">Invierte</span> hoy en el <span class="fw-bold">futuro</span> que sueñas
                            </h2>

                            <ul class="nav nav-tabs mb-4">
                                <li class="nav-item">
                                    <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#projects-grid">
                                        <i class="fa fa-th-large me-1"/>
 Vista Grid
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#projects-map">
                                        <i class="fa fa-map-marker me-1"/>
 Vista Mapa
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content">
                                <div class="tab-pane fade show active" id="projects-grid">
                                    <div class="row g-4" id="projects-properties-grid"></div>
                                </div>
                                <div class="tab-pane fade" id="projects-map">
                                    <div id="projects-properties-map" style="height: 500px; width: 100%;"></div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <a href="/properties?type_service=sale&amp;is_project=true" class="btn btn-danger px-4">Explora la categoría</a>
                            </div>
                        </div>
                    </section>

                    <!-- Testimonios -->
                    <section class="bohio-testimonials py-5">
                        <div class="container">
                            <div class="mb-4">
                                <h2 class="d-inline-block bg-danger text-white px-4 py-3 mb-0 rounded-end-pill" style="font-size: 1.75rem; font-weight: 500;">
                                    Testimonios
                                </h2>
                            </div>
                            <h2 class="mb-5">
                            Ellos ya vivieron <span class="text-danger fw-bold">la experiencia bohío</span>
                            </h2>

                            <div class="row g-4">
                                <div class="col-md-3">
                                    <div class="testimonial-card p-4 bg-white rounded-3 shadow-sm h-100">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="rounded-circle me-3 bg-danger text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; font-size: 20px;">P</div>
                                            <div>
                                                <h6 class="mb-0">Paola Morja</h6>
                                                <div class="stars text-warning small">
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="small text-muted mb-0">"Excelente servicio y atención. BOHIO me ayudó a encontrar el apartamento perfecto."</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="testimonial-card p-4 bg-white rounded-3 shadow-sm h-100">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="rounded-circle me-3 bg-danger text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; font-size: 20px;">J</div>
                                            <div>
                                                <h6 class="mb-0">José Raul</h6>
                                                <div class="stars text-warning small">
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="small text-muted mb-0">"La administración de mi propiedad ha sido impecable. Pagos puntuales."</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="testimonial-card p-4 bg-white rounded-3 shadow-sm h-100">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="rounded-circle me-3 bg-danger text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; font-size: 20px;">F</div>
                                            <div>
                                                <h6 class="mb-0">Fer Vélez</h6>
                                                <div class="stars text-warning small">
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="small text-muted mb-0">"Profesionalismo y transparencia en todo el proceso."</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="testimonial-card p-4 bg-white rounded-3 shadow-sm h-100">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="rounded-circle me-3 bg-danger text-white d-flex align-items-center justify-content-center" style="width: 50px; height: 50px; font-size: 20px;">C</div>
                                            <div>
                                                <h6 class="mb-0">Carlos Gutiérrez</h6>
                                                <div class="stars text-warning small">
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                    <i class="fa fa-star"/>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="small text-muted mb-0">"Encontré mi casa ideal gracias al equipo de BOHIO."</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Nuestros clientes -->
                    <section class="bohio-clients py-5 bg-light">
                        <div class="container">
                            <div class="text-center mb-4">
                                <h2 class="display-6 fw-bold mb-2">
                                    Voces que <span class="text-danger">respaldan</span> nuestro compromiso
                                </h2>
                            </div>
                            <div class="row g-4 justify-content-center align-items-center">
                                <!-- Haceb -->
                                <div class="col-lg-3 col-md-4 col-6 text-center">
                                    <div class="client-logo bg-white p-4 rounded shadow-sm d-flex align-items-center justify-content-center"
                                         style="height: 150px; transition: transform 0.3s ease;"
                                         onmouseover="this.style.transform='translateY(-5px)'"
                                         onmouseout="this.style.transform='translateY(0)'">
                                        <img src="/theme_bohio_real_estate/static/src/img/cliente-haceb.png"
                                             alt="Haceb - Un hogar en tus manos"
                                             class="img-fluid"
                                             style="max-height: 100%; max-width: 100%; object-fit: contain;"
                                             loading="lazy"/>
                                    </div>
                                </div>

                                <!-- Hotel Cinco -->
                                <div class="col-lg-3 col-md-4 col-6 text-center">
                                    <div class="client-logo bg-white p-4 rounded shadow-sm d-flex align-items-center justify-content-center"
                                         style="height: 150px; transition: transform 0.3s ease;"
                                         onmouseover="this.style.transform='translateY(-5px)'"
                                         onmouseout="this.style.transform='translateY(0)'">
                                        <img src="/theme_bohio_real_estate/static/src/img/cliente-hotelcinco.jpg"
                                             alt="Hotel Cinco - Elegancia y Confort"
                                             class="img-fluid"
                                             style="max-height: 100%; max-width: 100%; object-fit: contain;"
                                             loading="lazy"/>
                                    </div>
                                </div>

                                <!-- Construcciones Crearts -->
                                <div class="col-lg-3 col-md-4 col-6 text-center">
                                    <div class="client-logo bg-white p-4 rounded shadow-sm d-flex align-items-center justify-content-center"
                                         style="height: 150px; transition: transform 0.3s ease;"
                                         onmouseover="this.style.transform='translateY(-5px)'"
                                         onmouseout="this.style.transform='translateY(0)'">
                                        <img src="/theme_bohio_real_estate/static/src/img/cliente-crearts.jpg"
                                             alt="Construcciones Crearts S.A.S."
                                             class="img-fluid"
                                             style="max-height: 100%; max-width: 100%; object-fit: contain;"
                                             loading="lazy"/>
                                    </div>
                                </div>

                                <!-- Derma Piel -->
                                <div class="col-lg-3 col-md-4 col-6 text-center">
                                    <div class="client-logo bg-white p-4 rounded shadow-sm d-flex align-items-center justify-content-center"
                                         style="height: 150px; transition: transform 0.3s ease;"
                                         onmouseover="this.style.transform='translateY(-5px)'"
                                         onmouseout="this.style.transform='translateY(0)'">
                                        <img src="/theme_bohio_real_estate/static/src/img/cliente-dermapiel.jpg"
                                             alt="Derma Piel - Cuidado de la Piel"
                                             class="img-fluid"
                                             style="max-height: 100%; max-width: 100%; object-fit: contain;"
                                             loading="lazy"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Banner Rialto - Búsqueda por Código -->
                    <section class="rialto-code-search py-5" style="background: rgba(128, 128, 128, 0.15); backdrop-filter: blur(10px);">
                        <div class="container">
                            <div class="row align-items-center">
                                <!-- Logo Rialto -->
                                <div class="col-lg-3 col-md-4 text-center mb-3 mb-md-0">
                                    <img src="/theme_bohio_real_estate/static/src/img/Logo_Rialto.png"
                                         alt="Rialto - Eleva tus sueños"
                                         class="img-fluid"
                                         style="max-width: 220px;"/>
                                </div>

                                <!-- Texto y Botones -->
                                <div class="col-lg-9 col-md-8">
                                    <div class="row align-items-center g-3">
                                        <div class="col-md-5">
                                            <h3 class="mb-2 fw-bold" style="color: #333; font-size: 1.5rem;">
                                                ¿Tienes un código? Realiza la búsqueda
                                            </h3>
                                        </div>
                                        <div class="col-md-4">
                                            <button type="button"
                                                    class="btn btn-light btn-lg w-100 shadow-sm fw-bold"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#codeSearchModal"
                                                    style="border: 2px solid #E31E24; color: #E31E24; padding: 12px 25px;">
                                                <i class="fa fa-search me-2"></i>Código
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <a href="/contacto"
                                               class="btn btn-lg w-100 shadow fw-bold text-white"
                                               style="background: #E31E24; border: none; padding: 12px 25px;">
                                                Consigna tu inmueble
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <script>
                    //<![CDATA[
                        function searchPropertyByCode() {
                            const code = document.getElementById('modalPropertyCode').value.trim();
                            if (code) {
                                // Cerrar modal
                                const modal = bootstrap.Modal.getInstance(document.getElementById('codeSearchModal'));
                                if (modal) modal.hide();

                                // Redirigir a búsqueda
                                window.location.href = '/properties?search=' + encodeURIComponent(code);
                            } else {
                                alert('Por favor ingresa un código de propiedad');
                            }
                        }

                        // Función helper para llamadas JSON-RPC
                        async function jsonRpc(url, params) {
                            const response = await fetch(url, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    jsonrpc: '2.0',
                                    method: 'call',
                                    params: params,
                                    id: Math.floor(Math.random() * 1000000)
                                })
                            });
                            const data = await response.json();
                            return data.result;
                        }

                        // Cargar propiedades para el homepage
                        async function loadHomeProperties() {
                            // Cargar propiedades en arriendo (4 propiedades)
                            try {
                                const rentData = await jsonRpc('/properties/api/list', {
                                    type_service: 'rent',
                                    limit: 4
                                });
                                const arriendoContainer = document.getElementById('arriendo-properties-grid');
                                if (arriendoContainer && rentData.properties && rentData.properties.length > 0) {
                                    arriendoContainer.innerHTML = rentData.properties.map(prop => createPropertyCard(prop)).join('');
                                }
                            } catch (err) {
                                console.error('Error cargando arriendos:', err);
                            }

                            // Cargar propiedades usadas en venta (4 propiedades)
                            try {
                                const usedSaleData = await jsonRpc('/properties/api/list', {
                                    type_service: 'sale',
                                    is_project: 'false',
                                    limit: 4
                                });
                                const usedSaleContainer = document.getElementById('used-sale-properties-grid');
                                if (usedSaleContainer && usedSaleData.properties && usedSaleData.properties.length > 0) {
                                    usedSaleContainer.innerHTML = usedSaleData.properties.map(prop => createPropertyCard(prop)).join('');
                                }
                            } catch (err) {
                                console.error('Error cargando ventas usadas:', err);
                            }

                            // Cargar proyectos en venta (4 propiedades)
                            try {
                                const projectsData = await jsonRpc('/properties/api/list', {
                                    type_service: 'sale',
                                    is_project: 'true',
                                    limit: 4
                                });
                                const projectsContainer = document.getElementById('projects-properties-grid');
                                if (projectsContainer && projectsData.properties && projectsData.properties.length > 0) {
                                    projectsContainer.innerHTML = projectsData.properties.map(prop => createPropertyCard(prop)).join('');
                                }
                            } catch (err) {
                                console.error('Error cargando proyectos:', err);
                            }
                        }

                        // Crear tarjeta de propiedad
                        function createPropertyCard(property) {
                            const imageUrl = property.image_url || '/theme_bohio_real_estate/static/src/img/placeholder.jpg';
                            const price = property.price ? new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP', minimumFractionDigits: 0 }).format(property.price) : 'Consultar';
                            const bedrooms = property.bedrooms || 0;
                            const bathrooms = property.bathrooms || 0;
                            const area = property.area || 0;
                            const location = (property.city && property.state) ? `${property.city}, ${property.state}` : (property.city || property.state || 'No especificado');
                            const description = property.description ? property.description.substring(0, 100) + '...' : '';
                            const priceLabel = property.type_service === 'rent' ? 'Arriendo/mes' : 'Venta';

                            return `
                                <div class="col-md-3">
                                    <div class="card h-100 shadow-sm border-0">
                                        <img src="${imageUrl}" class="card-img-top" alt="${property.name}" style="height: 200px; object-fit: cover;" loading="lazy"/>
                                        <div class="card-body d-flex flex-column">
                                            <h5 class="card-title text-truncate">${property.name}</h5>
                                            <p class="text-muted small mb-2">
                                                <i class="fa fa-map-marker-alt me-1"></i>${location}
                                            </p>
                                            ${description ? `<p class="text-muted small mb-2">${description}</p>` : ''}
                                            <div class="d-flex justify-content-between mb-2">
                                                <span class="small"><i class="fa fa-bed me-1"></i>${bedrooms}</span>
                                                <span class="small"><i class="fa fa-bath me-1"></i>${bathrooms}</span>
                                                <span class="small"><i class="fa fa-ruler-combined me-1"></i>${area} m²</span>
                                            </div>
                                            <div class="mb-2">
                                                <small class="text-muted">${priceLabel}</small>
                                                <h4 class="text-danger mb-0">${price}</h4>
                                            </div>
                                            <a href="/property/${property.id}" class="btn btn-outline-danger w-100 mt-auto">Ver detalles</a>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }

                        // Variables globales para mapas
                        let arriendoMap = null;
                        let usedSaleMap = null;
                        let projectsMap = null;

                        // Inicializar mapas de Leaflet con verificación
                        function initMaps() {
                            // Verificar que Leaflet esté cargado
                            if (typeof L === 'undefined') {
                                console.warn('Leaflet no está cargado todavía');
                                return false;
                            }

                            try {
                                // Inicializar mapa de arriendos
                                const arriendoMapEl = document.getElementById('arriendo-properties-map');
                                if (arriendoMapEl && !arriendoMap) {
                                    arriendoMap = L.map('arriendo-properties-map').setView([4.7110, -74.0721], 11);
                                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                        attribution: '© OpenStreetMap contributors'
                                    }).addTo(arriendoMap);
                                }

                                // Inicializar mapa de ventas usadas
                                const usedSaleMapEl = document.getElementById('used-sale-properties-map');
                                if (usedSaleMapEl && !usedSaleMap) {
                                    usedSaleMap = L.map('used-sale-properties-map').setView([4.7110, -74.0721], 11);
                                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                        attribution: '© OpenStreetMap contributors'
                                    }).addTo(usedSaleMap);
                                }

                                // Inicializar mapa de proyectos
                                const projectsMapEl = document.getElementById('projects-properties-map');
                                if (projectsMapEl && !projectsMap) {
                                    projectsMap = L.map('projects-properties-map').setView([4.7110, -74.0721], 11);
                                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                        attribution: '© OpenStreetMap contributors'
                                    }).addTo(projectsMap);
                                }

                                return true;
                            } catch (error) {
                                console.error('Error inicializando mapas:', error);
                                return false;
                            }
                        }

                        // Actualizar marcadores en mapa
                        function updateMapMarkers(map, properties) {
                            if (!map || typeof L === 'undefined') return;

                            // Limpiar marcadores existentes
                            map.eachLayer(function(layer) {
                                if (layer instanceof L.Marker) {
                                    map.removeLayer(layer);
                                }
                            });

                            // Agregar nuevos marcadores
                            const bounds = [];
                            properties.forEach(prop => {
                                if (prop.latitude && prop.longitude) {
                                    const marker = L.marker([prop.latitude, prop.longitude]).addTo(map);

                                    // Formatear precio y ubicación
                                    const price = prop.price ? new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP', minimumFractionDigits: 0 }).format(prop.price) : 'Consultar';
                                    const priceLabel = prop.type_service === 'rent' ? 'Arriendo/mes' : 'Venta';
                                    const imageUrl = prop.image_url || '/theme_bohio_real_estate/static/src/img/placeholder.jpg';
                                    const neighborhood = prop.neighborhood ? `${prop.neighborhood}, ` : '';
                                    const location = `${neighborhood}${prop.city || prop.state || ''}`;

                                    // Crear popup con imagen, barrio y precio
                                    const popupContent = `
                                        <div style="min-width: 250px; max-width: 300px;">
                                            <img src="${imageUrl}"
                                                 alt="${prop.name}"
                                                 style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 10px;"/>
                                            <h6 class="fw-bold mb-2" style="font-size: 14px;">${prop.name}</h6>
                                            <p class="small mb-1 text-muted">
                                                <i class="fa fa-map-marker-alt text-danger"></i> ${location}
                                            </p>
                                            <div class="mb-2">
                                                <small class="text-muted d-block">${priceLabel}</small>
                                                <p class="mb-1 text-danger fw-bold" style="font-size: 16px;">${price}</p>
                                            </div>
                                            <a href="/property/${prop.id}"
                                               class="btn btn-sm btn-danger w-100"
                                               style="background: #E31E24; border: none;">
                                               <i class="fa fa-eye me-1"></i>Ver detalles
                                            </a>
                                        </div>
                                    `;
                                    marker.bindPopup(popupContent, {
                                        maxWidth: 300,
                                        className: 'custom-popup'
                                    });
                                    bounds.push([prop.latitude, prop.longitude]);
                                }
                            });

                            // Ajustar vista del mapa con zoom apropiado
                            if (bounds.length > 0) {
                                map.fitBounds(bounds, {
                                    padding: [50, 50],
                                    maxZoom: 13  // Limitar el zoom máximo para ver a una distancia apropiada
                                });
                            }
                        }

                        // Cargar propiedades y actualizar mapas
                        async function loadHomePropertiesWithMaps() {
                            // Cargar propiedades en arriendo
                            try {
                                const rentData = await jsonRpc('/properties/api/list', {
                                    type_service: 'rent',
                                    limit: 4
                                });
                                const arriendoContainer = document.getElementById('arriendo-properties-grid');
                                if (arriendoContainer && rentData.properties && rentData.properties.length > 0) {
                                    arriendoContainer.innerHTML = rentData.properties.map(prop => createPropertyCard(prop)).join('');

                                    // Actualizar mapa cuando se muestre la pestaña
                                    document.getElementById('arriendo-map-tab')?.addEventListener('shown.bs.tab', function() {
                                        if (!arriendoMap) initMaps();
                                        setTimeout(() => {
                                            arriendoMap?.invalidateSize();
                                            updateMapMarkers(arriendoMap, rentData.properties);
                                        }, 100);
                                    });
                                }
                            } catch (err) {
                                console.error('Error cargando arriendos:', err);
                            }

                            // Cargar propiedades usadas en venta
                            try {
                                const usedSaleData = await jsonRpc('/properties/api/list', {
                                    type_service: 'sale',
                                    is_project: 'false',
                                    limit: 4
                                });
                                const usedSaleContainer = document.getElementById('used-sale-properties-grid');
                                if (usedSaleContainer && usedSaleData.properties && usedSaleData.properties.length > 0) {
                                    usedSaleContainer.innerHTML = usedSaleData.properties.map(prop => createPropertyCard(prop)).join('');

                                    // Evento para actualizar mapa
                                    document.querySelector('[data-bs-target="#used-sale-map"]')?.addEventListener('shown.bs.tab', function() {
                                        if (!usedSaleMap) initMaps();
                                        setTimeout(() => {
                                            usedSaleMap?.invalidateSize();
                                            updateMapMarkers(usedSaleMap, usedSaleData.properties);
                                        }, 100);
                                    });
                                }
                            } catch (err) {
                                console.error('Error cargando ventas usadas:', err);
                            }

                            // Cargar proyectos en venta
                            try {
                                const projectsData = await jsonRpc('/properties/api/list', {
                                    type_service: 'sale',
                                    is_project: 'true',
                                    limit: 4
                                });
                                const projectsContainer = document.getElementById('projects-properties-grid');
                                if (projectsContainer && projectsData.properties && projectsData.properties.length > 0) {
                                    projectsContainer.innerHTML = projectsData.properties.map(prop => createPropertyCard(prop)).join('');

                                    // Evento para actualizar mapa
                                    document.querySelector('[data-bs-target="#projects-map"]')?.addEventListener('shown.bs.tab', function() {
                                        if (!projectsMap) initMaps();
                                        setTimeout(() => {
                                            projectsMap?.invalidateSize();
                                            updateMapMarkers(projectsMap, projectsData.properties);
                                        }, 100);
                                    });
                                }
                            } catch (err) {
                                console.error('Error cargando proyectos:', err);
                            }
                        }

                        // Permitir búsqueda con Enter en el modal
                        document.addEventListener('DOMContentLoaded', function() {
                            const input = document.getElementById('modalPropertyCode');
                            if (input) {
                                input.addEventListener('keypress', function(e) {
                                    if (e.key === 'Enter') {
                                        e.preventDefault();
                                        searchPropertyByCode();
                                    }
                                });
                            }

                            // Cargar propiedades del homepage con mapas
                            loadHomePropertiesWithMaps();
                        });
                    //]]>
                    </script>

                    <!-- Enlace a Instagram -->
                    <section class="bohio-social py-4 text-center bg-dark text-white">
                        <div class="container">
                            <h5 class="mb-3">Síguenos en Instagram</h5>
                            <a href="https://www.instagram.com/bohioinmobiliaria/?hl=es" target="_blank" class="btn btn-outline-light btn-lg">
                                <i class="fa fa-instagram me-2"/>
 @bohioinmobiliaria
                            </a>
                        </div>
                    </section>

                    <!-- Botón Flotante de Comparación -->
                    <div id="compareFloatingBtn" class="compare-floating-button" style="display: none;">
                        <button class="btn btn-danger rounded-circle shadow-lg position-relative" onclick="openCompareModal()" title="Comparar Propiedades">
                            <i class="fa fa-balance-scale fa-lg"></i>
                            <span id="compareCounter" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning text-dark" style="display: none;">
                            0
                            </span>
                        </button>
                        <button class="btn btn-sm btn-light mt-2 shadow-sm" onclick="clearCompare()" title="Limpiar comparación">
                            <i class="fa fa-trash"></i>
                        </button>
                    </div>

                    <!-- Modal de Búsqueda por Código -->
                    <div class="modal fade" id="codeSearchModal" tabindex="-1" aria-labelledby="codeSearchModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header" style="background: linear-gradient(135deg, #E31E24 0%, #B81820 100%); color: white;">
                                    <h5 class="modal-title fw-bold" id="codeSearchModalLabel">
                                        <i class="fa fa-search me-2"></i>Búsqueda por Código
                                    </h5>
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body p-4">
                                    <p class="text-muted mb-3">
                                        <i class="fa fa-info-circle text-danger me-2"></i>
                                        Ingresa el código de la propiedad que te compartimos
                                    </p>
                                    <div class="input-group input-group-lg mb-3">
                                        <input type="text"
                                               id="modalPropertyCode"
                                               class="form-control"
                                               placeholder="Ej: BOH-001, APT-2023-045"
                                               autocomplete="off"
                                               style="font-size: 1.1rem; padding: 15px;"/>
                                        <button class="btn btn-danger px-4"
                                                type="button"
                                                onclick="searchPropertyByCode()"
                                                style="background: #E31E24; border: none;">
                                            <i class="fa fa-search fa-lg"></i>
                                        </button>
                                    </div>
                                    <small class="text-muted">
                                        <i class="fa fa-lightbulb me-1"></i>
                                        El código lo encuentras en la información que te compartimos
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
        </t>
    </template>
    </data>
</odoo>
