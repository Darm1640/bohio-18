<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="produtc_compare_inherited" inherit_id="website_sale_comparison.product_compare">
		<xpath expr="//div[hasclass('container','oe_website_sale')]" position="replace">
          <div class="container oe_website_sale pt-3 snazzy-compare-products">
            <section class="container">
                <div class="bg-light p-3">
                  <h6 class="text-center m-0 text-uppercase">Compare Products</h6>
                </div>
                <table class="table table-bordered table-hover text-center mt16 table-comparator" id="o_comparelist_table">
                    <t t-set="categories" t-value="products._prepare_categories_for_display()"/>
                    <thead>
                        <tr>
                            <td t-if="len(categories)" class='compare_product_titile o_ws_compare_image td-top-left border-bottom-0 p-4'>Products</td>
                            <td t-foreach="products" t-as="product" class="o_ws_compare_image position-relative border-bottom-0">
                                <a href="#" t-att-data-product_product_id="product.id" class="o_comparelist_remove text-bg-primary" t-if="len(products) &gt; 2">
                                    <span class="ri ri-delete-bin-fill text-decoration-none"></span>
                                </a>
                                <a t-att-href="product.website_url">
                                    <img t-attf-src="/web/image/product.product/#{product.id}/image_256" class="img img-fluid" style="margin:auto;" alt="Product image"/>
                                </a>
                                <t t-set="combination_info" t-value="product._get_combination_info_variant()"/>
                                <div class='product_summary'>
                                    <a class="o_product_comparison_table" t-att-href="product.website_url">
                                        <span t-esc="combination_info['display_name']"></span><br/>
                                    </a>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td t-if="len(categories)" class='compare_product_titile td-top-left border-top-0 align-middle'>Description</td>
                            <td t-foreach="products" t-as="product" class="border-top-0">
                                <div class="oe_subdescription mb-2 text-muted small" contenteditable="false">
                                    <div itemprop="description" t-field="product.description_sale"/>
                                </div>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="categories" t-as="category">
                            <tr t-foreach="categories[category]" t-as="attribute" t-att-class="'collapse show o_ws_category_%d' % category.id">
                                <td><span class="attribute_titile" t-field="attribute.name"/></td>
                                <td t-foreach="categories[category][attribute]" t-as="product">
                                    <t t-foreach="categories[category][attribute][product]" t-as="ptav">
                                        <span t-field="ptav.name"/><t t-if="not ptav_last">, </t>
                                    </t>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </section>
          </div>
		</xpath>
    </template>
    <template id="produtc_compare_price_inherited" inherit_id="website_sale_comparison.product_product" name="Product Compare Price">
		<xpath expr="//h6" position="replace">
            <h6>
                <a t-att-href="product.website_url"><t t-esc="combination_info['display_name']" /></a><br/>
                <t t-if="is_view_active('theme_snazzy.snazzy_b2b_mode') and request.env.user._is_public()">
                </t>
                <t t-else="">
                    <div t-attf-class="{{'d-none' if combination_info['prevent_zero_price_sale'] else ''}}">
                        <del t-attf-class="text-danger mr8 {{'' if combination_info['has_discounted_price'] else 'd-none'}}" style="white-space: nowrap;" t-esc="combination_info['list_price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}" />
                        <span t-esc="combination_info['price']" t-options="{'widget': 'monetary', 'display_currency': website.currency_id}"/>
                    </div>
                    <div t-attf-class="{{'' if combination_info['prevent_zero_price_sale'] else 'd-none'}}" t-field="website.prevent_zero_price_sale_text"/>
                </t>
            </h6>
        </xpath>
    </template>
</odoo>