<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<template id="cart_sidebar_content" name="Cart Sidebar Content">
		<t t-set="website_sale_order" t-value="website.sale_get_order()" />
        <t t-set="suggested_products" t-value="website_sale_order._cart_accessories()" />
		<div class="cart-content shop-collection-cart-main">
			<div class="cart-sidebar-heading p-3 border-bottom">
				<h6 class="cart-title d-flex align-items-center">
					<span><i class="ri ri-shopping-cart-2-line me-2 align-bottom"/>Shopping Cart (<t t-out="website_sale_order.cart_quantity" />)</span>
					<a role="button" id="close_cart_sidebar">
						<div class="position-relative close_icon"></div>
					</a>
				</h6>
			</div>
			<div t-if="not website_sale_order or not website_sale_order.website_order_line" class="empty_cart">
	          	<div class="empty-cart-button mt-3 text-center">
					<img class="img img-fluid" src="/theme_snazzy/static/src/img/empty_cart.png"/>
	          		<h6 class="text-secondary mb-3">Opss! Your cart is empty!</h6>
	          		<a class="btn btn-secondary bizople_button d-inline-flex align-items-center" href="/shop">
                       	<span class="ri ri-shopping-cart-2-line me-2"/>
                       	<span>Start Shopping</span>
                 	</a>
	          	</div>
	        </div>
			<t t-if="website_sale_order">
				<t t-if="website_sale_order.website_order_line">
					<div class="sidebar-cart-lines">
						<div class="cart-right-selected-blocks">
							<t t-foreach="website_sale_order.website_order_line" t-as="line">
								<t t-if="line.product_id.product_tmpl_id">
									<div class="selected-product cart_line m-3 d-flex">
										<div t-attf-class="cart-product-color me-3 pt-2 {{'add_bg_color' if is_view_active('theme_snazzy.product_background_color') else ''}}">
											<span t-field="line.product_id.image_128" t-options="{'widget': 'image', 'qweb_img_responsive': False, 'class': 'o_image_64_max'}" />
										</div>
										<div class="cart-product-name-detail d-flex flex-column w-100">
											<div class="cart-product-title">
												<t t-call="website_sale.cart_line_product_link">
													<span class="product-titile" t-out="line.name_short" />
												</t>
											</div>
											<div class="product-price">
												<span t-field="line.price_reduce_taxexcl"
													style="white-space: nowrap;"
													t-options="{'widget': 'monetary', 'display_currency': website_sale_order.currency_id}" />
											</div>
											<div class="d-flex align-items-center justify-content-between cart-sidebar-quantity mt-auto">
												<div class="product-qty">
													<div t-attf-class="css_quantity input-group oe_cart">
														<a t-attf-href="#" class="btn btn-link js_add_cart_json" aria-label="Remove one" title="Remove one">
															<i class="fa fa-minus"></i>
														</a>
														<input type="text" class="js_quantity form-control quantity text-center" t-att-data-line-id="line.id"
														t-att-data-product-id="line.product_id.id" t-att-value="int(line.product_uom_qty) == line.product_uom_qty and int(line.product_uom_qty) or line.product_uom_qty" />
														<a t-attf-href="#" class="btn btn-link float_left js_add_cart_json" aria-label="Add one" title="Add one">
															<i class="fa fa-plus"></i>
														</a>
													</div>
												</div>
												<div class="remove-cart-btn">
													<a href='#' aria-label="Remove from cart" title="Remove from cart" class='no-decoration'>
														<span class="me-2 small">Remove</span>
													</a>
												</div>
											</div>
											
										</div>
									</div>
								</t>
							</t>
						</div>
					</div>
					<div class="cart-side-total-section p-4 mt-auto shadow">
						<div id="snazzy_cart_total" t-att-class="extra_class or ''" t-if="website_sale_order and website_sale_order.website_order_line" t-att-disabled="not website_sale_order._is_cart_ready()">
							<div class="cart-footer-price d-flex justify-content-between mb-2 align-items-center">
								<span class="cart-subtotal-name">Subtotal: </span>
								<span class="cart-subtotal"><span t-field="website_sale_order.amount_total" class="monetary_field" t-options='{"widget": "monetary", "display_currency": website_sale_order.currency_id}'></span></span>
							</div>
						</div>
						<p class="cart-notice">Taxes and shipping calculated at checkout</p>
						<div class="cart-shipping d-flex align-items-center">
							<a role="button" t-if="website_sale_order and website_sale_order.website_order_line" class="btn btn-secondary bizople_button me-2 me-md-3 w-50" href="/shop/checkout?express=1" id="process_checkout" t-att-disabled="not website_sale_order._is_cart_ready()">
								<span class="">Check Out</span>
							</a>
							<a role="button" class="btn btn-primary bizople_button w-50" href="/shop/cart">
								<span class="">View Cart</span>
							</a>
						</div>
	                </div>
				</t>
			</t>
	    </div>
		<div class="cart_sidebar_backdrop"></div>
	</template>
</odoo>