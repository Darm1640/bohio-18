<?xml version="1.0" encoding="UTF-8"?>
<odoo>
     <!-- User Account Info -->
     <template id="theme_snazzy_signin_main_template" name="Theme Snazzy Sign-in Option">
		<t t-set="isShowSignIn" t-value="is_view_active('portal.user_sign_in')"/>
		<t t-set="isLoginPopup" t-value="request.website.viewref('theme_snazzy.loginsignup_popup_bizt').active"/>
		<t t-set="is_connected" t-value="not user_id._is_public()"/>

		<t t-nocache="Profile session and user group can change unrelated to parent caches and Each user is different regardless of the page visited"
			t-nocache-_icon="_icon"
			t-nocache-_text="_text"
			t-nocache-_username="_username"
			t-nocache-_myaccount_class="_myaccount_class"
			t-nocache-isShowSignIn="isShowSignIn"
			t-nocache-isLoginPopup="isLoginPopup"
			t-nocache-_isBottomBar="_isBottomBar"
			t-nocache-is_connected="is_connected">

			<div t-attf-class="header-myaccount dropdown #{_myaccount_class}">
				<a t-if="isShowSignIn or is_connected" href="#" class="nav-link dropdown-toggle acc-dropdown" data-bs-toggle="dropdown">
					<span t-ignore="true" t-if="not user_id._is_public() and _icon">
						<t t-call="theme_snazzy.portal_frontend_user"/>
					</span>
					<span groups="base.group_public" t-if="_icon">
						<span class="ri ri-user-line align-middle"></span>
					</span>
					<!-- <span class="account-text" t-if="_text">My Account</span> -->
					<span class="account-text" t-if="_username and is_connected">
						<t t-out="user_id.name[:23] + '...' if user_id.name and len(user_id.name) &gt; 25 else user_id.name" />
					</span>
				</a>

				<div class="dropdown-menu js_usermenu p-2" role="menu">
					<div class="main-content" t-ignore="true" t-if="not user_id._is_public()">
						<div class="fw-bold user-name-title" t-if="not _username">
							<span t-out="user_id.name[:23] + '...' if user_id.name and len(user_id.name) &gt; 25 else user_id.name" />
						</div>
						<a t-attf-href="/my/home" role="menuitem" class="dropdown-item my-acc text-center">My Account</a>
						<t t-call="theme_snazzy.my_address_link"/>
						<a id="o_logout" class="dropdown-item text-center"
							t-attf-href="/web/session/logout?redirect=/"
							role="menuitem">Logout</a>
					</div>
					<div groups="base.group_public" class="text-center">
						<span t-if="isLoginPopup" class="nav-link lpopen p-0"
							data-bs-toggle="modal" data-bs-target="#popupuserlogin" t-att-data-theme_name="request.website.sudo().theme_id.name">
							<span>Sign in</span>
						</span>
						<span t-else=''>
							<a class="dropdown-item" t-attf-href="/web/login">
								<span>Sign in</span>
							</a>
							<a class="dropdown-item" t-attf-href="/web/signup">
								<span>Register</span>
							</a>
						</span>
					</div>
				</div>
				<div class="text-center" t-if="_isBottomBar">
					<!-- <span class="">Account</span> -->
				</div>
			</div>
		</t>
	</template>

	<!-- t-call added of this template in all headers to use pricelist  -->
    <template id="placeholder_snazzy_header_pricelist" name="Snazzy Pricelist"/>

	<template id="snazzy_header_pricelist" inherit_id="theme_snazzy.placeholder_snazzy_header_pricelist">
        <xpath expr="." position="inside">
			<t t-nocache="The query strings can change for the same page and the same rendering."
				t-nocache-_btn_class="_btn_class"
				t-nocache-_dropdown_menu_class="_dropdown_menu_class">
				<t t-set="website_sale_pricelists" t-value="website.get_pricelist_available(show_visible=True)" />
				<div class="curruncy-selector">
					<div t-attf-class="dropdown me-auto#{'' if website_sale_pricelists and len(website_sale_pricelists)&gt;1 else ' '} #{_classes}">
						<t t-set="curr_pl" t-value="website.pricelist_id" />
						<a role="button" href="#" t-attf-class="dropdown-toggle btn btn-link #{_btn_class}" data-bs-toggle="dropdown">
							<t t-out="curr_pl and curr_pl.name or ' - '" />
						</a>
						<div t-attf-class="dropdown-menu #{_dropdown_menu_class}" role="menu">
							<t t-foreach="website_sale_pricelists" t-as="pl">
								<a role="menuitem" t-att-href="'/shop/change_pricelist/%s' % pl.id" class="dropdown-item">
									<span class="switcher_pricelist" t-att-data-pl_id="pl.id" t-out="pl.name" />
								</a>
							</t>
						</div>
					</div>
				</div>
			</t>
		</xpath>
	</template>

	<template id="snazzy_product_searchbar">
		<div t-if="is_view_active('website.header_search_box')" t-attf-class="header_searchbar {{searchbar_classes}}">
			<form method="get" data-snippet="s_products_searchbar_input" class="o_searchbar_form o_wsale_products_searchbar_form o_wait_lazy_js s_wsale_products_searchbar_input d-flex" action="/shop">
				<t t-set="no_cat_listing" t-value="True"/>
				<t t-set="action" t-value="shop" />
				<input type="hidden" id="tvsearchCateg" name="category"/>
				<div class="search-category-input-box w-100">
					<div role="search" class="input-group">
						<input type="search" name="search" class="search-query-bizople form-control oe_search_box" data-limit="5" data-display-description="true" data-display-price="true" data-display-image="true"  data-search-type="products" data-display-extra-link="true" data-display-detail="true" data-order-by="name asc" placeholder="Search..." autofocus="autofocus"/>
						<div class="input-group-append">
							<button type="submit" class="btn btn-primary oe_search_button rounded-0 h-100" aria-label="Search" title="Search">
									<i class="ri ri-search-line"/>
							</button>
						</div>
					</div>
				</div>
				<input name="order" type="hidden" class="o_wsale_search_order_by o_search_order_by" value="name asc"/>
			</form>
		</div>
	</template>

    <!-- Bizople header popup search category -->
	<template id="search_popup" name="search popup"> 
		<div class="header-search-popup">
			<div class="search-popup-backdrop"></div>
			<div class="search-box bizople-search search-box-header">
				<div class="container-fluid header-search">
					<div class="row justify-content-center">
						<div class="close-btn mx-auto text-end">
							<a class="close-text close-search">
								<div class="position-relative close_icon ms-auto"></div>
							</a>
						</div>
						<t t-if="is_view_active('theme_snazzy.theme_snazzy_header1')">
							<div class="col-lg-3">
								<div class="snazzy-logo justify-content-md-start mx-auto mx-lg-0">
									<a href="/" class="navbar-brand logo m-0">
										<span t-field="website.logo" t-options="{'widget': 'image'}" role="img" t-att-aria-label="'Logo of %s' % website.name" t-att-title="website.name" />
									</a>
								</div>
							</div>
						</t>
						<div class="col-lg-6">
							<t t-call="theme_snazzy.snazzy_product_searchbar">
								<t t-if="is_view_active('theme_snazzy.theme_snazzy_header1')">
									<t t-set="searchbar_classes" t-value="'header_one_popup'"/>
								</t>
								<t t-if="is_view_active('theme_snazzy.theme_snazzy_header6')">
									<t t-set="searchbar_classes" t-value="'header_six_popup'"/>
								</t>
							</t>
						</div>
						<t t-if="is_view_active('theme_snazzy.theme_snazzy_header1')">
							<div class="col-lg-3 text-end header_right">
								<div class="wishlist align-middle d-none d-lg-inline-block list-unstyled">
									<t t-call="website_sale_wishlist.header_wishlist_link">
										<t t-set="_icon" t-value="True"/>
										<t t-set="_icon_color" t-value="''"/>
										<t t-set="_item_class" t-value="'nav-item'"/>
										<t t-set="_link_class" t-value="'nav-link'"/>
									</t>
								</div>
								<div class="cart bizople-add-to-cart align-middle d-none d-lg-inline-block list-unstyled" id="">
									<t t-set="website_sale_order" t-value="website.sale_get_order()" />
									<t t-call="website_sale.header_cart_link">
										<t t-set="_icon" t-value="True"/>
										<t t-set="_icon_color" t-value="''"/>
										<t t-set="_item_class" t-value="'nav-item'"/>
										<t t-set="_link_class" t-value="'nav-link show_cart_sidebar'"/>
									</t>
								</div>
								<t t-call="theme_snazzy.theme_snazzy_signin_main_template">
									<t t-set="_myaccount_class" t-value="'align-items-center align-middle d-none d-md-inline-block'"/>
									<t t-set="_icon" t-value="True"/>
									<t t-set="_text" t-value="False"/>
								</t>
							</div>
						</t>
					</div>
				</div>
			</div>
		</div>
	</template>

	<template id="snazzy_mobile_categories" name="Snazzy Mobile Categories">
		<t t-set="mobile_categories" t-value="website.get_product_category_data_menu() if website else None"/>
		<t t-if="mobile_categories">
			<div class="min-w-categ d-block d-md-none px-3 pb-3">
				<div class="container">
					<div class="row">
						<ul class="list-group list-group-horizontal header-category">
							<t t-foreach="mobile_categories" t-as="categm">
								<a t-att-href="'/shop/category/%s' % (categm.id)">
									<li class="list-group-item border-0 text-bg-secondary">
										<p class="my-1" t-out="categm.name"></p>
									</li>
								</a>
							</t>
						</ul>
					</div>
				</div>
			</div>
	    </t>
	</template>

   	<template id="category_sidebar" inherit_id="website_sale.products" name="Category Filter Sidebar">
		<xpath expr="//div[hasclass('o_wsale_products_grid_before_rail')]" position="attributes">
			<attribute name="class" remove="overflow-y-auto vh-100" separator=" "/>
		</xpath>
   	</template>

   <!-- Bizople mbl Bottom Bar -->
   	<template id="bizople_mobile_bottom_icon_bar" name="Bizople Mobile Bottom Icon Bar">
		<div class="bizople-mbl-bottom-bar d-block d-xl-none bg-black">
			<div class="container">
				<div class="row align-items-center justify-content-center">
					<!-- <h1 class="text-dark">bizople</h1> -->
					<div class="col text-center bottom-sidebar-menu d-none">
						<div class="text-center">
							<a role="button" class="nav-link bottom-show-sidebar">
								<i class="ri ri-layout-grid-line text-secondary" />
							</a>
						</div>
					</div>
					<div class="col text-center bottom-bar-shop">
						<div class="text-center">
							<a href="/shop" class="nav-link">
								<i class="text-secondary ri ri-home-2-line" />
							</a>
						</div>						
					</div>
					<t t-if="is_view_active('theme_snazzy.category_sidebar')">
						<div class="col text-center bottom-bar-filter">
							<div class="text-center">
								<a t-attf-class="nav-link bottom_bar_filter_button" data-bs-toggle="offcanvas" data-bs-target="#o_wsale_offcanvas">
									<span class="text-secondary ri ri-filter-line"/>
								</a>
							</div>
						</div>
					</t>
					<div class="col text-center bottom-bar-extra-menu d-none">
					</div>
					<div class="col text-center bottom-bar-wishlist o_wsale_my_wish">
						<div class="wishlist-opt">
							<div class="wishlist">
								<t t-set="wishcount" t-value="len(request.env['product.wishlist'].current())"/>
								<div id="my_wish" class="nav-item header_wishlist d-block">
									<div class="text-center">
										<a href="/shop/wishlist" class="nav-link">
											<i class="ri ri-heart-line" />
											<sup
												t-attf-class="my_wish_quantity o_animate_blink badge badge-primary text-bg-primary">
												<t t-out='wishcount' />
											</sup>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					<t t-set="isShowSignIn" t-value="is_view_active('portal.user_sign_in')"/>
					<t t-set="is_connected" t-value="not user_id._is_public()"/>
					<div class="col text-center" t-if="isShowSignIn or is_connected">
						<t t-call="theme_snazzy.theme_snazzy_signin_main_template">
							<t t-set="_myaccount_class" t-value="'dropup bizople-acc-user'"/>
							<t t-set="_icon" t-value="True"/>
							<t t-set="_text" t-value="False"/>
							<t t-set="_isBottomBar" t-value="True"/>
						</t>
					</div>
				</div>
			</div>
		</div>
	</template>

   <!-- Mobile Header Cart  -->
   <template id="snazzy_header_mobile_cart" name="Snazzy Header Mobile Cart">
		<div t-attf-class="mobile-cart #{_class}">
			<t t-if="is_view_active('theme_snazzy.theme_snazzy_header1') or is_view_active('theme_snazzy.theme_snazzy_header2') or is_view_active('theme_snazzy.theme_snazzy_header3') or is_view_active('theme_snazzy.theme_snazzy_header4') or is_view_active('theme_snazzy.theme_snazzy_header5') or is_view_active('theme_snazzy.theme_snazzy_header6')">
				<div class="cart bizople-add-to-cart align-middle  list-unstyled" id="">
					<t t-set="website_sale_order" t-value="website.sale_get_order()" />
					<t t-call="website_sale.header_cart_link">
						<t t-set="_icon" t-value="True"/>
						<t t-set="_icon_color" t-value="''"/>
						<t t-set="_item_class" t-value="'nav-item'"/>
						<t t-set="_link_class" t-value="'nav-link show_cart_sidebar'"/>
					</t>
				</div>
			</t>
			<t t-else="">
				<div class="cart bizople-add-to-cart align-middle list-unstyled" id="">
					<t t-set="website_sale_order" t-value="website.sale_get_order()" />
					<t t-call="website_sale.header_cart_link">
						<t t-set="_icon" t-value="True"/>
						<t t-set="_icon_color" t-value="''"/>
						<t t-set="_item_class" t-value="'nav-item'"/>
						<t t-set="_link_class" t-value="'nav-link'"/>
					</t>
				</div>
			</t>
		</div>
   </template>
   
   <!-- Language Selectror Add Language Inherit -->
   <!-- <template id="inherit_language_selector_add_language" inherit_id="website.language_selector_add_language">
		<xpath expr="//a[contains(@t-attf-class, 'o_add_language')]" position="replace">
			<a t-attf-class="o_add_language d-none #{dropdown and 'd-sm-block dropdown-item' or 'd-sm-inline-block list-inline-item'}"
			groups="website.group_website_restricted_editor"
			t-attf-href="/web#action=base.action_view_base_language_install&amp;website_id=#{website.id if website else ''}&amp;url_return=#{quote_plus(url_for('', '[lang]') + '?' + keep_query())}">
				<i class="fa fa-plus-circle"/>
				<span>Add</span>
			</a>
		</xpath>
   </template> -->

   <!-- Bizople mbl Sidebar -->
   <template id="bizople_mbl_side_bar" inherit_id="website.layout" name="Bizople Side Bar">
	<xpath expr="//footer" position="after">
		<nav id="sidebar" class="sidebar-wrapper d-block d-xl-none">
			<div class="sidebar-content">
				<div class="row align-items-center  bg-white pt8 pb8 shadow-sm m-0">
					<div class="col-4 search">
						<div class="close-mbl-sidebar px-2">
							<span class="ri ri-close-line" id="close_mbl_sidebar"></span>
						</div>
					</div>
					<div class="col-4 snazzy-logo text-center">
						<a href="/" class="navbar-brand logo m-0">
							<span t-field="website.logo" t-options="{'widget': 'image'}" role="img" t-att-aria-label="'Logo of %s' % website.name" t-att-title="website.name" />
						</a>
					</div>
					<div class="col-4 price-language-mbl-sidebar d-flex align-items-center justify-content-end">
						<!-- Pricelist Selector -->
						<t t-call="theme_snazzy.placeholder_snazzy_header_pricelist"/>
						 <!-- Language Selector -->
						 <t t-call="website.placeholder_header_language_selector">
							<t t-set="_div_classes" t-valuef="my-auto ms-0"/>
						</t>
					</div>
				</div>
				<div class="card">
					<div class="card-header">
						  <ul class="nav nav-tabs card-header-tabs" role="tablist">
							<li class="nav-item">
								  <a class="nav-link o_default_snippet_text active" id="nav_tabs_link_1595584408392_2" data-bs-toggle="tab" href="#nav_tabs_content_1595584408392_2" role="tab" aria-controls="nav_tabs_content_1595584408392_2" aria-selected="true">Menu</a>
							</li>
							<li class="nav-item">
								  <a class="nav-link o_default_snippet_text" id="nav_tabs_link_1595584408393_3" data-bs-toggle="tab" href="#nav_tabs_content_1595584408393_3" role="tab" aria-controls="nav_tabs_content_1595584408393_3" aria-selected="false">Category</a>
							</li>
						  </ul>
					</div>
					<div class="card-body tab-content">
						<div class="tab-pane fade active show" id="nav_tabs_content_1595584408392_2" role="tabpanel" aria-labelledby="nav_tabs_link_1595584408392_2">
							<ul class="nav navbar-nav align-items-md-center p-2" id="top_menu">
								<t t-foreach="website.menu_id.child_id" t-as="submenu">
									<t t-call="website.submenu">
										<t t-set="item_class" t-value="'nav-item'" />
										<t t-set="link_class" t-value="'nav-link'" />
									</t>
								</t>
							</ul>
							</div>
							<div class="tab-pane fade" id="nav_tabs_content_1595584408393_3" role="tabpanel" aria-labelledby="nav_tabs_link_1595584408393_3">
							<ul class="snazzy-mbl-header-category p-2" id="o_shop_collapse_category_mobile">
								<t t-set="categories" t-value="website.get_categories() if website else None"/>
								<t t-if="categories">
									<t t-foreach="categories['categories']" t-as="categ">
										<t t-call="theme_snazzy.menu_mbl_categories_recursive"/>
									</t>
								</t>
							</ul>
						</div>
					</div>
				  </div>
			</div>
		</nav>
	</xpath>
   </template>

	<template id="menu_mbl_categories_recursive">
		<li class="dropdown dropdown-submenu nav-item">
			<a class="nav-link" t-att-href="'/shop/category/%s' % (categ.id)">
				<span t-if="categ.category_icon" class="cat-image" itemprop="image" t-field="categ.category_icon" t-options='{"widget": "image", "resize": None if image else "30x30"}' t-att-alt="categ.name" />
				<span class="cat-title" t-out="categ.name"/>
				<t t-if="is_view_active('theme_snazzy.categories_list_count')">
					(<span>
						<t t-out="categ.with_context(product_categ_search=search).product_tmpl_count"/>
					</span>)
				</t>
			</a>
			<i t-if="categ.child_id"
			class="fa fa-chevron-down text-primary caret-icon-pos"/>
			<ul t-if="categ.child_id"
				class="dropdown-menu">
				<t t-foreach="categ.child_id" t-as="categ">
					<t t-call="theme_snazzy.menu_mbl_categories_recursive"/>
				</t>
			</ul>
		</li>
	</template>

    <!-- Header language selector  -->
   
	<template id="snazzy_languageselector" inherit_id="portal.language_selector">
        <xpath expr="//button[contains(@t-attf-class, 'dropdown-toggle')]//span" position="attributes">
            <attribute name="t-esc" remove="active_lang.name.split('/').pop()" add="active_lang.url_code.split('/').pop()" separator=" " />
        </xpath>
        <xpath expr="//div[contains(@t-attf-class, 'dropdown-menu')]//span" position="attributes">
             <attribute name="t-esc" remove="lg.name.split('/').pop()" add="lg.url_code.split('/').pop()" separator=" " />
        </xpath>
    </template>

	<!-- Remove Header Cart HREF -->
	<template id="show_snazzy_cart_sidebar" name="Show Cart Sidebar" inherit_id="website.layout"/>

	<template id="snazzy_cart_link_inherit" name="Header Cart Link Inherit" inherit_id="website_sale.header_cart_link">
		<xpath expr="//a" position="replace">
			<t t-set="cart_sidebar_active" t-value="is_view_active('theme_snazzy.show_snazzy_cart_sidebar') and (is_view_active('theme_snazzy.theme_snazzy_header1') or is_view_active('theme_snazzy.theme_snazzy_header2') or is_view_active('theme_snazzy.theme_snazzy_header3') or is_view_active('theme_snazzy.theme_snazzy_header4') or is_view_active('theme_snazzy.theme_snazzy_header5') or is_view_active('theme_snazzy.theme_snazzy_header6'))"/>
			<a t-attf-href="{{'#' if cart_sidebar_active else '/shop/cart'}}" t-attf-class="#{_link_class}">
				<div t-attf-class="#{_icon_wrap_class}">
					<i t-if="_icon" class="fa fa-shopping-cart fa-stack"/>
					<span t-if="_text" t-attf-class="#{_text_class}">My Cart</span>
					<sup t-attf-class="my_cart_quantity badge text-bg-primary #{_badge_class}" t-esc="website_sale_cart_quantity" t-att-data-order-id="request.session.get('sale_order_id', '')"/>
				</div>
			</a>
		</xpath>
	</template>

	<template id="snazzy_header_social_links">
		<div t-if="is_view_active('website.header_social_links')" class="snazzy_header_social_links dropdown">
			<button type="button" class="btn btn-link dropdown-toggle" data-bs-toggle="dropdown">
			  SHARE
			</button>
			<ul class="dropdown-menu">
				<li class="o_header_sales_two_social_links_placeholder" t-if="is_view_active('website.header_social_links') == False"/>
				<t t-call="website.placeholder_header_social_links">
					<t t-set="_div_class" t-valuef="d-flex align-items-center justify-content-end h-100"/>
				</t>
			</ul>
		  </div>
	</template>
</odoo>