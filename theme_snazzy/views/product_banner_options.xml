<?xml version="1.0" encoding="UTF-8"?>
<odoo>

	<template id="s_product_banner" name="Product Banner">
		<section class="oe_website_sale bizople_product_banner show-discount-label show-product-label show-product-rating show-add-cart show-buy-cart pt64 pb64" product_id="" style="">
			<div class="container">
				<h3 class="no-product-text text-center">No Product Selected</h3>
			</div>
        </section>
	</template>

	<template id="product_banner_snippet_options_inherit" inherit_id="website.snippet_options">
		<xpath expr="//div[@data-js='HeaderBox']" position="after">
			<div data-selector=".bizople_product_banner" data-js="add_product_banner">
				<we-row string="Select Product">
	                <we-button class="biz_add_product"><i class="fa fa-fw fa-plus"/></we-button>
		        </we-row>
		        <we-row string="Display Options">
			        <we-button data-select-class="show-product-label" title="Show Product Label" class="biz_hide_product_label"><i class="fa fa-fw fa-bookmark"/></we-button>
			        <we-button data-select-class="show-discount-label" title="Show Discount Label" class="biz_hide_discount_label"><i class="fa fa-fw fa-percent"/></we-button>
			        <we-button data-select-class="show-product-rating" title="Show Product Rating" class="biz_hide_product_rating"><i class="fa fa-fw fa-star-half-empty"/></we-button>
			        <we-button data-select-class="show-add-cart" title="Show Add To Cart" class="biz_hide_add_cart"><i class="ri ri-shopping-cart-2-line"/></we-button>
			        <we-button data-select-class="show-buy-cart" title="Show Buy Now" class="biz_hide_buy_cart"><i class="ri ri-share-forward-line"/></we-button>
			    </we-row>
			</div>
		</xpath>
	</template>

	<template id="product_banner_dynamic_data">
		<div class="product_banner_main_section">
			<t t-if="product">
				<t t-set="combination" t-value="product._get_first_possible_combination()"/>
		        <t t-set="combination_info" t-value="product._get_combination_info(combination, add_qty=add_qty)"/>
		        <t t-set="product_variant" t-value="product.env['product.product'].browse(combination_info['product_id'])"/>
				<div id="product_detail_main" class="row justify-content-center" t-att-data-image_width="website.product_page_image_width" t-att-data-image_layout="website.product_page_image_layout">
		            <div class="pt-3 pt-lg-0 col-md-12 col-lg-6 order-1 order-lg-0" id="product_details">
		            	<div class="product-info shadow bg-white h-100">
							<form t-if="product._is_add_to_cart_possible()" action="/shop/cart/update" method="POST">
								<input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
								<div class="js_product js_main_product">
									<div class="d-flex product_labels align-items-center">
										<t t-set="combination" t-value="product._get_first_possible_combination()"/>
										<t t-set="combination_info" t-value="product._get_combination_info(combination, add_qty=add_qty)"/>
										<t t-set="product_variant" t-value="product.env['product.product'].browse(combination_info['product_id'])"/>
										<t t-if="product.product_label_id">
											<t t-call="theme_snazzy.snazzy_product_label_common" />
										</t>
										<div class="snazzy-discount-label ms-2">
											<t t-call="theme_snazzy.snazzy_product_discount_label"></t>
										</div>
									</div>
									<div class="product-name-share d-flex align-items-center justify-content-between mb-2 flex-wrap">
										<h5 itemprop="name" t-out="product.name" class="product-name m-0">Product Name</h5>
										<t t-set="product_variant_id" t-value="product._get_first_possible_variant_id()"/>
										<t t-if="is_view_active('theme_snazzy.snazzy_b2b_mode') and request.env.user._is_public()">
										</t>
										<t t-else="">
											<t t-call="website_sale.product_price" />
										</t>
									</div>
									<div class="pro-desc pb-2" t-if="product.description_sale">
										<p class="description mb-0" t-out="product.description_sale" />
									</div>
									<span itemprop="url" style="display:none;" t-out="product.website_url"/>
									
									<div class="product-details-rating d-flex align-items-center mb-3">
										<div class="product_details">
											<a t-att-href="'/shop/product/%s' % slug(product)" class="view-detail number-2 d-inline-block">
												View Full Details 
											</a>
										</div>
										<div class="dropdown ms-auto d-flex align-items-center">
											<t t-if="is_view_active('website_sale.product_comment')">
												<t t-call="theme_snazzy.product_item_stars"/> 
											</t>
										</div>
									</div>

									<t t-placeholder="select">
										<input type="hidden" class="product_id" name="product_id" t-att-value="product_variant.id" />
										<input type="hidden" class="product_template_id" name="product_template_id" t-att-value="product.id" />
										<input t-if="product.public_categ_ids.ids" type="hidden" class="product_category_id" name="product_category_id" t-att-value="product.public_categ_ids.ids[0]" />
										<t t-if="combination" t-call="website_sale.variants">
											<t t-set="ul_class" t-valuef="flex-column" />
											<t t-set="parent_combination" t-value="None" />
										</t>
										<t t-else="">
											<ul class="d-none js_add_cart_variants mb-0" t-att-data-attribute_exclusions="{'exclusions: []'}"/>
										</t>
									</t>

									<p t-if="True" class="css_not_available_msg alert alert-warning">This combination does not exist.</p>
									<t t-if="is_view_active('theme_snazzy.snazzy_b2b_mode') and request.env.user._is_public()">
										<div class="">
											<t t-if="is_view_active('theme_snazzy.loginsignup_popup_bizt')">
												<a href='#' data-bs-toggle="modal" data-bs-target="#popupuserlogin" t-att-data-theme_name = "request.website.sudo().theme_id.name" class="btn btn-primary b2bloginbtn flat lpopen d-block d-md-inline-block">
													<span class="fa fa-user-circle me-1"/>
													Login to See Price
												</a>
											</t>
											<t t-else=''>
												<a role="button" class="btn btn-primary b2bloginbtn flat d-block d-md-inline-block" href="/web/login">
													<span class="fa fa-user-circle me-1"/>
													Login to See Price</a>
											</t>
										</div>
									</t>
									<t t-else="">
										<div id="o_wsale_cta_wrapper" class="d-block  align-items-center product-btns w-100 mt-3">
											<t t-set="hasQuantities" t-value="false"/>
											<t t-set="hasBuyNow" t-value="false"/>
											<t t-set="ctaSizeBig" t-value="not hasQuantities or not hasBuyNow"/>
											<div class="d-flex mb-2">
												<div t-attf-class="css_quantity input-group {{'d-none' if combination_info['prevent_zero_price_sale'] else 'd-inline-flex'}} align-items-center me-2 justify-content-center #{'input-group-lg' if ctaSizeBig else ''}" contenteditable="false">
													<a t-attf-href="#" class="btn btn-link js_add_cart_json" aria-label="Remove one" title="Remove one">
														<i class="fa fa-minus"></i>
													</a>
													<input type="text" class="form-control quantity text-center text-secondary" data-min="1" name="add_qty" t-att-value="add_qty or 1"/>
													<a t-attf-href="#" class="btn btn-link float_left js_add_cart_json" aria-label="Add one" title="Add one">
														<i class="fa fa-plus"></i>
													</a>
												</div>
												<div class="ajax_cart_modal_tools w-100">
													<a role="button" id="add_to_cart" t-attf-class="btn btn-primary js_check_product a-submit w-100" href="#">
														<i class="ri ri-shopping-cart-2-line  me-1"/>
															<span>ADD TO CART</span>
													</a>
												</div>
											</div>
											
											<div class="buy_now_btn">
												<a role="button" id="buy_now" class="btn  btn-secondary o_we_buy_now btn-lg sticky_cart_button d-block"
													href="#">
													<span class="ri ri-share-forward-line me-2  align-middle"></span> <span class="align-middle">Buy Now</span>
												</a>
											</div>
										</div>
									</t>
								</div>
							</form>
							<p t-elif="not product.active" class="alert alert-warning">This product is no longer available.</p>
							<p t-else="" class="alert alert-warning">This product has no valid combination.</p>
			            </div>
		            </div>
		         	<div class="col-md-12 col-lg-6 product-img-section">
		                <!-- Product Slider -->
						<div t-attf-class="o_wsale_product_images position-relative h-100 {{'add_bg_color' if is_view_active('theme_snazzy.product_background_color') else ''}}">
							<div class="product-img-box">
								
								<t t-set="product_images" t-value="product_variant._get_images() if product_variant else product._get_images()"/>
                                <t t-set="image_classes" t-value="'d-flex align-items-center justify-content-center h-100'"/>
                                <t t-set="ribbon" t-value="product_variant.sudo().variant_ribbon_id or product.sudo().website_ribbon_id"/>
                                <t t-set="bg_color" t-value="ribbon['bg_color'] or ''"/>
                                <t t-set="text_color" t-value="ribbon['text_color']"/>
                                <t t-set="bg_class" t-value="ribbon._get_position_class()"/>
                                <t t-call="website_sale.shop_product_#{website.product_page_image_layout}"/>
							</div>
					    </div>
		                <!-- End -->
		            </div>
		        </div>
		    </t>
		</div>
	</template>
</odoo>