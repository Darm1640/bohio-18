<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="snazzy_badge_extra_price_inherited" inherit_id="website_sale.badge_extra_price" name="Snazzy Badge Extra Price">
		<xpath expr="//span[hasclass('text-bg-info')]" position="replace">
			<t t-if="is_view_active('theme_snazzy.snazzy_b2b_mode') and request.env.user._is_public()">
			</t>
			<t t-else="">
				<span class="badge rounded-pill text-bg-light border" t-if="price_extra">
			<!--
				price_extra is displayed as catalog price instead of
				price after pricelist because it is impossible to
				compute. Indeed, the pricelist rule might depend on the
				selected variant, so the price_extra will be different
				depending on the selected combination. The price of an
				attribute is therefore variable and it's not very
				accurate to display it.

				To cover some generic cases, the price_extra also
				covers the price-included taxes in e-commerce flows.
				(See the override of `_get_combination_info`)
			-->
			<span class="sign_badge_price_extra" t-out="price_extra > 0 and '+' or '-'"/>
			<span t-out="abs(price_extra)" class="variant_price_extra text-muted fst-italic" style="white-space: nowrap;"
				t-options='{
                    "widget": "monetary",
                    "display_currency": (pricelist or product.env.company).currency_id
                }'/>
			</span>
			</t>
		</xpath>
		
	</template>

    <template id="product_page_variant_inherited" inherit_id="website_sale.variants" customize_show="True" name="Show Variant Image">
        <xpath expr="//li[@t-foreach='ptavs']" position="replace">
            <li t-foreach="ptal.product_template_value_ids._only_active()" t-as="ptav" class="list-inline-item me-1">
                <t t-if="ptav.color_attrib_img">
                    <label t-attf-style="background-image:url('/web/image/product.template.attribute.value/#{ptav.id}/color_attrib_img/Color')" t-attf-class="css_attribute_color #{'active' if ptav in combination else ''} #{'custom_value' if ptav.is_custom else ''}">
                        <input type="radio"
                            t-attf-class="js_variant_change  #{ptal.attribute_id.create_variant}"
                            t-att-checked="ptav in combination"
                            t-att-name="'ptal-%s' % ptal.id"
                            t-att-value="ptav.id"
                            t-att-title="ptav.name"
                            t-att-data-value_id="ptav.id"
                            t-att-data-value_name="ptav.name"
                            t-att-data-attribute_name="ptav.attribute_id.name"
                            t-att-data-is_custom="ptav.is_custom"
                            t-att-data-is_single="single"
                            t-att-data-is_single_and_custom="single_and_custom"/>
                    </label>
                </t>
                <t t-else="">
                    <label t-attf-style="background-color:#{ptav.html_color or ptav.product_attribute_value_id.name if not ptav.is_custom else ''}"
                        t-attf-class="css_attribute_color #{'active' if ptav in combination else ''} #{'custom_value' if ptav.is_custom else ''}">
                        <input type="radio"
                            t-attf-class="js_variant_change  #{ptal.attribute_id.create_variant}"
                            t-att-checked="ptav in combination"
                            t-att-name="'ptal-%s' % ptal.id"
                            t-att-value="ptav.id"
                            t-att-title="ptav.name"
                            t-att-data-value_id="ptav.id"
                            t-att-data-value_name="ptav.name"
                            t-att-data-attribute_name="ptav.attribute_id.name"
                            t-att-data-is_custom="ptav.is_custom"
                            t-att-data-is_single="single"
                            t-att-data-is_single_and_custom="single_and_custom"/>
                    </label>
                </t>
            </li>
        </xpath>
    </template>
    
</odoo>